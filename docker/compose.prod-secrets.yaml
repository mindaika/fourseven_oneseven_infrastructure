# Production compose with file-based secrets
# Usage: docker compose -f docker/compose.yaml -f docker/compose.prod-secrets.yaml up -d

version: '3.8'

secrets:
  openai_api_key:
    file: ../secrets/openai_api_key.txt
  anthropic_api_key:
    file: ../secrets/anthropic_api_key.txt

services:
  pixify:
    secrets:
      - openai_api_key
    environment:
      # App will read from /run/secrets/openai_api_key automatically

  jobify:
    secrets:
      - anthropic_api_key
    environment:
      # App will read from /run/secrets/anthropic_api_key automatically
